(()=>{"use strict";var e,t,n;function a(a){t=a.getFullYear(),n=a.getDate();for(var o="<div class='year-container'>",c=0;c<12;c++)o+=(r=new Date(a.getFullYear(),c,1),d=void 0,d="<div class='month-container'>",d+="<table id='calendar_table' class='calendar_table'>",d+=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e.getMonth(),a=e.getFullYear();return'<caption id="'.concat(t[n],'">')+t[n]+" <span class='year' id='year'>"+a+"</span></caption>"}(r),d+=function(){for(var e=["S","M","T","W","T","F","S"],t="<tr>",n=0;n<e.length;n++)t+="<th class='calendar-weakdays'>"+e[n]+"</th>";return t+="</tr>"}(),d+=function(e){for(var t=0,n=new Date(e.getFullYear(),e.getMonth(),1),a=n.getDay(),o="<tr>",c=0;c<a;c++)o+="<td class='empty'><div class='empty-day'></div></td>";for(var r=function(e){var t=[31,28,31,30,31,30,31,31,30,31,30,31],n=e.getFullYear(),a=e.getMonth();return n%4==0&&(n%100==0&&n%400!=0||(t[1]=29)),t[a]}(e),d=(new Date).getDate(),i=(new Date).getMonth(),l="",s="",u=1;u<=r;u++)n.setDate(u),a=n.getDay(),t="".concat(n.getFullYear()).concat(2===n.getMonth().toString().length?n.getMonth():"0"+n.getMonth()).concat(2===n.getDate().toString().length?n.getDate():"0"+n.getDate()),l=6===a?"sat":"",s=5===a?"fri":"",0===a&&(o+="<tr>"),u===d&&e.getMonth()===i?o+="<td  class='calendar-dates ".concat(l," ").concat(s,"' id='calendar-today'><div data-daynumber=").concat(t," class='days'>")+u+"</div></td>":o+="<td  class='calendar-dates ".concat(l," ").concat(s,"'><div data-daynumber=").concat(t," class='days'>")+u+"</div></td>",6===a&&(o+="</tr>"),t++;n=new Date(e.getFullYear(),e.getMonth(),r);for(var g=(a=n.getDay())+1;g<7;g++)o+="<td class='empty'><div class='empty-day'></div></td>";return o+="</tr>"}(r),d+="</table>",d+="</div>");var r,d;e.innerHTML=o+"</div>"}console.log([{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]},{date:"202112/20",description:"Today I am going to meet my friend.",todo:["Meeting","Reading","Working"]}]);var o=document.getElementById("calendar"),c=document.querySelector("#btnToday"),r=document.querySelector("#btnPreviousYear"),d=document.querySelector("#btnNextYear"),i=document.querySelector("#btnCloseSidePanel"),l=document.querySelector(".side-panel"),s=document.querySelector("#btnOpenNotes"),u=document.querySelectorAll(".todo__label"),g=document.querySelector("#btnAddItem"),m=document.querySelector("#btnCancel"),v=document.querySelector(".todo__container"),y=document.querySelector("#view"),f=document.querySelector(".button--add"),h=document.querySelector(".add-item__countainer");console.log(g),console.log(m),console.log(v),console.log(u);var p=localStorage.getItem("currentYear")||(new Date).getFullYear(),S=new Date(p);S.setDate((new Date).getDate()),S.setMonth((new Date).getMonth()),console.log(S);var L=document.querySelector(".time");function D(e){e.forEach((function(t){t.addEventListener("click",(function(n){e.forEach((function(e){e.classList.remove("selected")})),t.classList.add("selected");var a=n.target.dataset.daynumber,o=new Date(a.slice(0,4),a.slice(4,6),a.slice(6,8));console.log(o),document.querySelector(".side-panel_date").innerText=o.toDateString()}))}))}function b(){var e;e=p,S.setFullYear(e),function(e){localStorage.setItem("currentYear",e)}(p),a(S),E(),D(document.querySelectorAll(".days"))}function E(){var e=document.querySelector(".current-year"),a=document.querySelector(".today");e.innerText=t,a.innerText=n}setInterval((function(){L.innerText=(new Date).toLocaleTimeString()}),1e3),window.addEventListener("load",(function(){e=o,a(S),E(),D(document.querySelectorAll(".days"))})),c.addEventListener("click",(function(e){e.preventDefault(),p=(new Date).getFullYear(),b()})),r.addEventListener("click",(function(e){p--,b()})),d.addEventListener("click",(function(e){p++,b()})),i.addEventListener("click",(function(e){l.classList.remove("active")})),s.addEventListener("click",(function(e){l.classList.toggle("active")})),u.forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.toggle("checked")}))})),g.addEventListener("click",(function(e){var t=document.querySelector("#newitem"),n=t.value;t.value="";var a=document.createElement("div"),o=document.createElement("label"),c=document.createTextNode(n),r=document.createElement("button"),d=document.createElement("i");d.classList.add("fa","fa-trash"),a.classList.add("todo__row"),o.classList.add("todo__label"),r.classList.add("btnDeleteItem"),r.appendChild(d),o.appendChild(c),a.appendChild(o),a.appendChild(r),v.appendChild(a),r.addEventListener("click",(function(){v.removeChild(a)})),o.addEventListener("click",(function(e){e.target.classList.toggle("checked")})),t.focus()})),m.addEventListener("click",(function(){document.querySelector(".add-item__countainer").classList.remove("show")})),y.addEventListener("change",(function(e){var t,n=e.target.value;"Month"===n?("css/monthview.css",(t=document.createElement("link")).rel="stylesheet",t.href="css/monthview.css",document.getElementsByTagName("head")[0].appendChild(t)):"Year"===n&&function(e){var t=document.querySelector('link[href="'.concat("css/monthview.css",'"]'));console.log(t),t.parentNode.removeChild(t)}()})),f.addEventListener("click",(function(e){h.classList.toggle("show")}))})();